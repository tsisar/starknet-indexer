// Code generated by generator-core; DO NOT EDIT.
package aggregators_registry

import (
	"fmt"
	"github.com/NethermindEth/juno/core/felt"
	"github.com/Tsisar/starknet-indexer/internal/types"
)

func DecodeLogAggregatorCreated(keys, data []*felt.Felt) (interface{}, error) {
	if len(keys) != 1 {
		return nil, fmt.Errorf("expected 1 keys, got %d", len(keys))
	}

	return LogAggregatorCreated{
		Key: LogAggregatorCreatedKey{
			Aggregator: types.NewAddress(keys[0]),
		},
	}, nil
}

func DecodeLogSubscriptionPriceChanged(keys, data []*felt.Felt) (interface{}, error) {
	if len(keys) != 1 {
		return nil, fmt.Errorf("expected 1 keys, got %d", len(keys))
	}
	if len(data) != 2 {
		return nil, fmt.Errorf("expected 2 data fields, got %d", len(data))
	}

	return LogSubscriptionPriceChanged{
		Key: LogSubscriptionPriceChangedKey{
			Aggregator: types.NewAddress(keys[0]),
		},
		Data: LogSubscriptionPriceChangedData{
			SubscriptionPrice: types.U128{
				Low:  data[0].String(),
				High: data[1].String(),
			},
		},
	}, nil
}

var Decoders = map[string]types.EventDecoderWithMeta{
	"0x3cf3e8cafa1af16ad51dbeba7423a1108c31f9b7f5ccf7e8663a5f3eb136251": {Func: DecodeLogAggregatorCreated, Name: "oracle_network::core::aggregators_registry::AggregatorsRegistry::LogAggregatorCreated"},
	"0x3cbd385fd5975cfb6056c05628115e37371e7e4dbb3092162e38b71119c1c7f": {Func: DecodeLogSubscriptionPriceChanged, Name: "oracle_network::core::aggregators_registry::AggregatorsRegistry::LogSubscriptionPriceChanged"},
}
